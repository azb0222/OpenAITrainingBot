{"docstore/metadata": {"b5d2864b-98c2-42da-ae6a-204bde10b426": {"doc_hash": "e56af0ac247d4540b2cc1b3aa2bf26e520bf9d1824f8314de9f6499b4ce64084"}, "17279d94-d9d3-4084-a90a-f47ec51ad3c7": {"doc_hash": "06d5fa6ca8f1e6a1312216ab2e3ad475c4036e3a7f937adab34ed05ffe3b4b89", "ref_doc_id": "b5d2864b-98c2-42da-ae6a-204bde10b426"}, "88279889-6d0b-4d4e-b6b6-bdd183af7257": {"doc_hash": "b05000820d079a8680a496f7d90fdc328d12b46042c3245315a7289d12758454", "ref_doc_id": "b5d2864b-98c2-42da-ae6a-204bde10b426"}, "722c949c-ce38-4a88-b0e0-4a7cda5f27fb": {"doc_hash": "9ca54dbe5ee78d3d6c018aada2f71f93ca52f8f5ea4c000ce829851395ac175a", "ref_doc_id": "b5d2864b-98c2-42da-ae6a-204bde10b426"}, "3171e983-411c-4e29-86f7-bea8e84d3e01": {"doc_hash": "8fdda6ed766d35c6e87385fcd75166e95be84a9e81c283a9a0858d01679c9fa8", "ref_doc_id": "b5d2864b-98c2-42da-ae6a-204bde10b426"}}, "docstore/data": {"17279d94-d9d3-4084-a90a-f47ec51ad3c7": {"__data__": {"id_": "17279d94-d9d3-4084-a90a-f47ec51ad3c7", "embedding": null, "metadata": {"title": "", "category": "Twilio Sms Guide", "url": "https://dev.blues.io/guides-and-tutorials/twilio-sms-guide/"}, "excluded_embed_metadata_keys": [], "excluded_llm_metadata_keys": [], "relationships": {"1": {"node_id": "b5d2864b-98c2-42da-ae6a-204bde10b426", "node_type": null, "metadata": {"title": "", "category": "Twilio Sms Guide", "url": "https://dev.blues.io/guides-and-tutorials/twilio-sms-guide/"}, "hash": "e56af0ac247d4540b2cc1b3aa2bf26e520bf9d1824f8314de9f6499b4ce64084"}, "3": {"node_id": "88279889-6d0b-4d4e-b6b6-bdd183af7257", "node_type": null, "metadata": {"title": "", "category": "Twilio Sms Guide", "url": "https://dev.blues.io/guides-and-tutorials/twilio-sms-guide/"}, "hash": "b05000820d079a8680a496f7d90fdc328d12b46042c3245315a7289d12758454"}}, "hash": "06d5fa6ca8f1e6a1312216ab2e3ad475c4036e3a7f937adab34ed05ffe3b4b89", "text": "Twilio SMS Guide\n\nNotehub.io can support a broad range of API endpoints by utilizing the Route feature. This guide provides instructions for leveraging the Twilio route type to invoke the Twilio API, thus enabling your Notecard applications to communicate and send alerts over SMS.\n\nPrerequisites\n\nIn order to follow the instructions in this guide, you'll need the following:\n\nA Notecard assigned to a Notehub.io project, with data synching from the Notecard to Notehub.io. (If you're unsure how to do this check out the Notecard quickstart.)\nA Twilio account, with at least one Verified Caller ID established. A verified caller ID is required to send messages from your Twilio account. Typically, this is your personal telephone number.\nConfiguring the Route\n\nTo send SMS messages, you must first create a Notehub route that will automatically forward your data from Notehub events to the Twilio SMS API.\n\nWithin your Notehub project, navigate to the Routes screen and then click the New Route button.\n\nSelect the Twilio route type.\n\nGive the route a name, for example Twilio.\n\nIn your Twilio Console, locate your Account Info, and then copy/paste the Account SID, Auth Token and Twilio phone number to your Notehub route as shown in the image below.\n\nNext, provide the phone number you'd like to receive SMS messages (usually your personal phone number while testing) in the Notehub route's To Number field.\n\nNote\nThe To Number number must be a Verified Caller ID in Twilio. Twilio requires you to validate one number when creating an account, so if you're using your personal number you likely already verified it.\nThe number provided MUST be formatted in the manner specified by the E.164 international telephone numbering plan, which it will be if you copy/paste from Twilio directly.\nYou can leave", "start_char_idx": 0, "end_char_idx": 1803, "text_template": "{metadata_str}\n\n{content}", "metadata_template": "{key}: {value}", "metadata_seperator": "\n"}, "__type__": "1"}, "88279889-6d0b-4d4e-b6b6-bdd183af7257": {"__data__": {"id_": "88279889-6d0b-4d4e-b6b6-bdd183af7257", "embedding": null, "metadata": {"title": "", "category": "Twilio Sms Guide", "url": "https://dev.blues.io/guides-and-tutorials/twilio-sms-guide/"}, "excluded_embed_metadata_keys": [], "excluded_llm_metadata_keys": [], "relationships": {"1": {"node_id": "b5d2864b-98c2-42da-ae6a-204bde10b426", "node_type": null, "metadata": {"title": "", "category": "Twilio Sms Guide", "url": "https://dev.blues.io/guides-and-tutorials/twilio-sms-guide/"}, "hash": "e56af0ac247d4540b2cc1b3aa2bf26e520bf9d1824f8314de9f6499b4ce64084"}, "2": {"node_id": "17279d94-d9d3-4084-a90a-f47ec51ad3c7", "node_type": null, "metadata": {"title": "", "category": "Twilio Sms Guide", "url": "https://dev.blues.io/guides-and-tutorials/twilio-sms-guide/"}, "hash": "06d5fa6ca8f1e6a1312216ab2e3ad475c4036e3a7f937adab34ed05ffe3b4b89"}, "3": {"node_id": "722c949c-ce38-4a88-b0e0-4a7cda5f27fb", "node_type": null, "metadata": {"title": "", "category": "Twilio Sms Guide", "url": "https://dev.blues.io/guides-and-tutorials/twilio-sms-guide/"}, "hash": "9ca54dbe5ee78d3d6c018aada2f71f93ca52f8f5ea4c000ce829851395ac175a"}}, "hash": "b05000820d079a8680a496f7d90fdc328d12b46042c3245315a7289d12758454", "text": "which it will be if you copy/paste from Twilio directly.\nYou can leave the To Number blank while creating the route in Notehub, and instead dynamically assign the number with a placeholder variable (see below).\n\nIf the body of your SMS message will be the same every time, provide that message in the route's Message field. If the body will vary, you can provide the message dynamically using a placeholder variable (see below).\n\nAfter that, scroll down in Notehub to the Filters section and change the Notefiles dropdown to Selected Notefiles. Select the Notefiles you want to trigger SMS messages, or type them in the Include Other Notefiles textbox. For example, the image below shows how to select only twilio.qo Notefiles.\n\nLastly, ensure the route is enabled, and click Create Route.\n\nCustomize with Placeholder Variables and JSONata\n\nIf you need to dynamically assign the To Number, From Number, or Message of the SMS, the best way to accomplish this is with placeholder variables and (optionally) a JSONata expression.\n\nPlaceholder variables let you replace segments of Route settings with data from a device, event, or environment variable. In this example, we will use data elements from the body of a Note to populate the To Number, From Number, and Message of an SMS.\n\nCOPY\n{\n   \"device\": \"dev:000000000000000\",\n   \"body\": {\n     \"customMessage\": \"Hello from Notecard!\",\n     \"customTo\": \"+18885551212\",\n     \"customFrom\": \"+18885552121\"\n   }\n}\n\nIn your Twilio Route settings, set the following event attribute placeholders:\n\n(Optional) You can also utilize JSONata to conditionally transform Twilio Route settings on-the-fly. For example, if you wanted to send a different message based on a DeviceUID, you could use", "start_char_idx": 1745, "end_char_idx": 3474, "text_template": "{metadata_str}\n\n{content}", "metadata_template": "{key}: {value}", "metadata_seperator": "\n"}, "__type__": "1"}, "722c949c-ce38-4a88-b0e0-4a7cda5f27fb": {"__data__": {"id_": "722c949c-ce38-4a88-b0e0-4a7cda5f27fb", "embedding": null, "metadata": {"title": "", "category": "Twilio Sms Guide", "url": "https://dev.blues.io/guides-and-tutorials/twilio-sms-guide/"}, "excluded_embed_metadata_keys": [], "excluded_llm_metadata_keys": [], "relationships": {"1": {"node_id": "b5d2864b-98c2-42da-ae6a-204bde10b426", "node_type": null, "metadata": {"title": "", "category": "Twilio Sms Guide", "url": "https://dev.blues.io/guides-and-tutorials/twilio-sms-guide/"}, "hash": "e56af0ac247d4540b2cc1b3aa2bf26e520bf9d1824f8314de9f6499b4ce64084"}, "2": {"node_id": "88279889-6d0b-4d4e-b6b6-bdd183af7257", "node_type": null, "metadata": {"title": "", "category": "Twilio Sms Guide", "url": "https://dev.blues.io/guides-and-tutorials/twilio-sms-guide/"}, "hash": "b05000820d079a8680a496f7d90fdc328d12b46042c3245315a7289d12758454"}, "3": {"node_id": "3171e983-411c-4e29-86f7-bea8e84d3e01", "node_type": null, "metadata": {"title": "", "category": "Twilio Sms Guide", "url": "https://dev.blues.io/guides-and-tutorials/twilio-sms-guide/"}, "hash": "8fdda6ed766d35c6e87385fcd75166e95be84a9e81c283a9a0858d01679c9fa8"}}, "hash": "9ca54dbe5ee78d3d6c018aada2f71f93ca52f8f5ea4c000ce829851395ac175a", "text": "example, if you wanted to send a different message based on a DeviceUID, you could use the following JSONata expression in your Route settings:\n\nCOPY\n{\n   \"device\": device,\n   \"body\": {\n     \"customMessage\": $contains(device, \"dev:000000000000000\" )? \"It's device 0000...\" : \"It's NOT device 0000...\",\n     \"customTo\": body.customTo,\n     \"customFrom\": body.customFrom\n   }\n}\nTesting the Route\n\nNow that you've created a Notehub route let's look at how to test it. In this section you'll create a Notehub event that triggers your newly created route, and ultimately send yourself an SMS message.\n\nUse the in-browser terminal to connect to your Notecard via USB. (If you're unsure how to do this check out the Notecard quickstart.)\n\nAssociate your Notecard with a Notehub project using the hub.set command (if it isn't already).\n\nCOPY\n{\n    \"req\": \"hub.set\",\n    \"product\": \"com.example.yourname:yourproject\"\n}\nNote\n\nBe sure to substitute your product's actual ProductUID for the example string provided above.\n\nQueue the following Note onto the twilio.qo Notefile.\n\nCOPY\n{\n    \"req\": \"note.add\",\n    \"file\": \"twilio.qo\",\n    \"sync\": true,\n    \"body\": {\n       \"customMessage\": \"Hello from Notecard!\",\n       \"customTo\": \"+18885551212\",\n       \"customFrom\": \"+18885552121\"\n    }\n}\n\nBecause the Note above contains a \"sync\": true attribute, the Notecard will automatically sync this Note to", "start_char_idx": 3463, "end_char_idx": 4851, "text_template": "{metadata_str}\n\n{content}", "metadata_template": "{key}: {value}", "metadata_seperator": "\n"}, "__type__": "1"}, "3171e983-411c-4e29-86f7-bea8e84d3e01": {"__data__": {"id_": "3171e983-411c-4e29-86f7-bea8e84d3e01", "embedding": null, "metadata": {"title": "", "category": "Twilio Sms Guide", "url": "https://dev.blues.io/guides-and-tutorials/twilio-sms-guide/"}, "excluded_embed_metadata_keys": [], "excluded_llm_metadata_keys": [], "relationships": {"1": {"node_id": "b5d2864b-98c2-42da-ae6a-204bde10b426", "node_type": null, "metadata": {"title": "", "category": "Twilio Sms Guide", "url": "https://dev.blues.io/guides-and-tutorials/twilio-sms-guide/"}, "hash": "e56af0ac247d4540b2cc1b3aa2bf26e520bf9d1824f8314de9f6499b4ce64084"}, "2": {"node_id": "722c949c-ce38-4a88-b0e0-4a7cda5f27fb", "node_type": null, "metadata": {"title": "", "category": "Twilio Sms Guide", "url": "https://dev.blues.io/guides-and-tutorials/twilio-sms-guide/"}, "hash": "9ca54dbe5ee78d3d6c018aada2f71f93ca52f8f5ea4c000ce829851395ac175a"}}, "hash": "8fdda6ed766d35c6e87385fcd75166e95be84a9e81c283a9a0858d01679c9fa8", "text": "a \"sync\": true attribute, the Notecard will automatically sync this Note to Notehub. Once Notehub receives the event it automatically invokes the Twilio API \u2014 and after that, you should see a notification on your device!\n\nDebugging the Route\n\nIf your messages aren't being sent through Twilio as expected, navigate to the Events section in your Notehub project.\n\nHere you'll see all events associated with your project, including the twilio.qo event you sent in the previous section. If the event failed to route to Twilio successfully you'll see an error icon for that event on the Events page.\n\nIf you click the icon you'll see the response from the Twilio API, which often contains more information on why the request failed. For example, the error below shows what happens if you try to send a message to an invalid phone number.\n\nCan we improve this page? Send us feedback", "start_char_idx": 4847, "end_char_idx": 5724, "text_template": "{metadata_str}\n\n{content}", "metadata_template": "{key}: {value}", "metadata_seperator": "\n"}, "__type__": "1"}}, "docstore/ref_doc_info": {"b5d2864b-98c2-42da-ae6a-204bde10b426": {"node_ids": ["17279d94-d9d3-4084-a90a-f47ec51ad3c7", "88279889-6d0b-4d4e-b6b6-bdd183af7257", "722c949c-ce38-4a88-b0e0-4a7cda5f27fb", "3171e983-411c-4e29-86f7-bea8e84d3e01"], "metadata": {"title": "", "category": "Twilio Sms Guide", "url": "https://dev.blues.io/guides-and-tutorials/twilio-sms-guide/"}}}}