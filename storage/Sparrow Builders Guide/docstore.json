{"docstore/metadata": {"3e8b5d17-58a8-4745-bd51-e1e430459bae": {"doc_hash": "2e832619ed71fc2fe5c41b812d1e875d09048799a1e224b0762541d691f147de"}, "02a5f56f-2e9a-4a40-bb6e-d891d5eb901c": {"doc_hash": "eb5596fd672018e2903ba188d7e3ba0b49e1e6ca179738c7b8dd3b7996b7082a", "ref_doc_id": "3e8b5d17-58a8-4745-bd51-e1e430459bae"}, "7fdc0685-c8a3-4249-b7b4-c5dba4df65ca": {"doc_hash": "8a76e620dd9f706f08010a4a164495a0d8a83783bc0946440763e95f854eade8", "ref_doc_id": "3e8b5d17-58a8-4745-bd51-e1e430459bae"}, "f0ed8e77-ff64-4aef-b1de-8536a7258f3c": {"doc_hash": "b762939e1b9a659cbb1c652685ee61fbd98feed25dcb59f9cf509a8c172efc8e", "ref_doc_id": "3e8b5d17-58a8-4745-bd51-e1e430459bae"}, "bac2f20b-155e-4282-902d-7dece2ce4a3a": {"doc_hash": "3f82f92c8720b1ac1174612184b3fb33d8107e1f3b6db698a0418b8671091bff", "ref_doc_id": "3e8b5d17-58a8-4745-bd51-e1e430459bae"}, "38bbeaae-de80-4059-bb8b-a340bedfed78": {"doc_hash": "f19b0f9f0b06f913ae6753812ddedd974408a333fc4ce65e541c5d04fb02d4fb", "ref_doc_id": "3e8b5d17-58a8-4745-bd51-e1e430459bae"}, "6d3d43af-94c8-45ed-8288-717811c268af": {"doc_hash": "77cdb779ce919b9469bbb0b3fb30d60a1a6baa0cd86386d61dca2c4d73913e23", "ref_doc_id": "3e8b5d17-58a8-4745-bd51-e1e430459bae"}}, "docstore/data": {"02a5f56f-2e9a-4a40-bb6e-d891d5eb901c": {"__data__": {"id_": "02a5f56f-2e9a-4a40-bb6e-d891d5eb901c", "embedding": null, "metadata": {"title": "", "category": "Sparrow Builders Guide", "url": "https://dev.blues.io/sparrow/sparrow-builders-guide/"}, "excluded_embed_metadata_keys": [], "excluded_llm_metadata_keys": [], "relationships": {"1": {"node_id": "3e8b5d17-58a8-4745-bd51-e1e430459bae", "node_type": null, "metadata": {"title": "", "category": "Sparrow Builders Guide", "url": "https://dev.blues.io/sparrow/sparrow-builders-guide/"}, "hash": "2e832619ed71fc2fe5c41b812d1e875d09048799a1e224b0762541d691f147de"}, "3": {"node_id": "7fdc0685-c8a3-4249-b7b4-c5dba4df65ca", "node_type": null, "metadata": {"title": "", "category": "Sparrow Builders Guide", "url": "https://dev.blues.io/sparrow/sparrow-builders-guide/"}, "hash": "8a76e620dd9f706f08010a4a164495a0d8a83783bc0946440763e95f854eade8"}}, "hash": "eb5596fd672018e2903ba188d7e3ba0b49e1e6ca179738c7b8dd3b7996b7082a", "text": "Sparrow Builder's Guide\n\nIn this guide you'll learn how to go beyond the basics, and build custom solutions on top of the Sparrow architecture.\n\nThe easiest place to start building is by running the Sparrow Reference Firmware. The reference firmware is open-source, and allows you to tweak your devices' behavior, as well as make entirely new sensors work in your Sparrow systems.\n\nLet's look at how to download, flash, and debug the reference firmware.\n\nInstalling Firmware Prerequisites\n\nAll the different Sparrow configurations run off the same firmware, which is open source and available on GitHub in the Sparrow Reference Firmware repository.\n\nTo start, you'll first need to clone the firmware's repository (making sure to include the --recursive flag).\n\nCOPY\ngit clone https://github.com/blues/sparrow-reference-firmware.git --recursive\n\nFrom there you must additionally install a series of prerequisites.\n\nOption 1: Docker Container (Linux only)\n\nThe Sparrow Reference Firmware repository contains a Docker container that includes all of the firmware's prerequisites.\n\nTo use the Docker container you must have both Docker, and the the Visual Studio Code \u201cRemote - Containers\u201d installed.\n\nDocker\n\nVisual Studio Code\n\nVisual Studio Code \u201cRemote - Containers\u201d Extension\n\nWhy is the Docker container only available on Linux?\nOption 2: Native Installation\n\nTo build, flash, and debug the Sparrow Reference Firmware on your development machine locally you'll need to have the following tools natively installed.\n\nCMake (must be v3.14 or greater)\n\nMake\n\nST-LINK GDB Server (via STMCubeIDE)\n\nSTM32CubeProg\n\nA terminal Program (choose one)\n\n(macOS) CoolTerm\n(Linux) GTKTerm\n(Windows)", "start_char_idx": 0, "end_char_idx": 1683, "text_template": "{metadata_str}\n\n{content}", "metadata_template": "{key}: {value}", "metadata_seperator": "\n"}, "__type__": "1"}, "7fdc0685-c8a3-4249-b7b4-c5dba4df65ca": {"__data__": {"id_": "7fdc0685-c8a3-4249-b7b4-c5dba4df65ca", "embedding": null, "metadata": {"title": "", "category": "Sparrow Builders Guide", "url": "https://dev.blues.io/sparrow/sparrow-builders-guide/"}, "excluded_embed_metadata_keys": [], "excluded_llm_metadata_keys": [], "relationships": {"1": {"node_id": "3e8b5d17-58a8-4745-bd51-e1e430459bae", "node_type": null, "metadata": {"title": "", "category": "Sparrow Builders Guide", "url": "https://dev.blues.io/sparrow/sparrow-builders-guide/"}, "hash": "2e832619ed71fc2fe5c41b812d1e875d09048799a1e224b0762541d691f147de"}, "2": {"node_id": "02a5f56f-2e9a-4a40-bb6e-d891d5eb901c", "node_type": null, "metadata": {"title": "", "category": "Sparrow Builders Guide", "url": "https://dev.blues.io/sparrow/sparrow-builders-guide/"}, "hash": "eb5596fd672018e2903ba188d7e3ba0b49e1e6ca179738c7b8dd3b7996b7082a"}, "3": {"node_id": "f0ed8e77-ff64-4aef-b1de-8536a7258f3c", "node_type": null, "metadata": {"title": "", "category": "Sparrow Builders Guide", "url": "https://dev.blues.io/sparrow/sparrow-builders-guide/"}, "hash": "b762939e1b9a659cbb1c652685ee61fbd98feed25dcb59f9cf509a8c172efc8e"}}, "hash": "8a76e620dd9f706f08010a4a164495a0d8a83783bc0946440763e95f854eade8", "text": "CoolTerm\n(Linux) GTKTerm\n(Windows) PuTTY\nArduino Serial Montior (Arduino IDE)\n\n(OPTIONAL) GNU ARM toolchain (also packaged with STM32CubeIDE)\n\nAdditionally, if you intend to use Visual Studio Code to build and flash firmware (recommended), you must install the following.\n\nVisual Studio Code\n\nVisual Studio Code \u201cCortex-Debug\u201d Extension\n\nVisual Studio Code \u201cCortex-Debug: Device Support Pack - STM32WL\u201d Extension\n\nWith all of these tools installed, next ensure all tools and libraries are in your system path. This may be necessary of all tools, but is especially important for ST-LINK_gdbserver and its shared library dependency, libSTLinkUSBDriver.so (or platform-specific equivalent). You can use the code below to add those libraries to your system path.\n\nLinux:\n\nCOPY\nexport PATH=/opt/st/stm32cubeide_1.8.0/plugins/com.st.stm32cube.ide.mcu.externaltools.gnu-tools-for-stm32.9-2020-q2-update.linux64_2.0.0.202105311346/tools/bin:${PATH}\nexport PATH=/opt/st/stm32cubeide_1.8.0/plugins/com.st.stm32cube.ide.mcu.externaltools.cubeprogrammer.linux64_2.0.100.202110141430/tools/bin:${PATH}\nexport PATH=/opt/st/stm32cubeide_1.8.0/plugins/com.st.stm32cube.ide.mcu.externaltools.stlink-gdb-server.linux64_2.0.100.202109301221/tools/bin:${PATH}\nexport", "start_char_idx": 1651, "end_char_idx": 2897, "text_template": "{metadata_str}\n\n{content}", "metadata_template": "{key}: {value}", "metadata_seperator": "\n"}, "__type__": "1"}, "f0ed8e77-ff64-4aef-b1de-8536a7258f3c": {"__data__": {"id_": "f0ed8e77-ff64-4aef-b1de-8536a7258f3c", "embedding": null, "metadata": {"title": "", "category": "Sparrow Builders Guide", "url": "https://dev.blues.io/sparrow/sparrow-builders-guide/"}, "excluded_embed_metadata_keys": [], "excluded_llm_metadata_keys": [], "relationships": {"1": {"node_id": "3e8b5d17-58a8-4745-bd51-e1e430459bae", "node_type": null, "metadata": {"title": "", "category": "Sparrow Builders Guide", "url": "https://dev.blues.io/sparrow/sparrow-builders-guide/"}, "hash": "2e832619ed71fc2fe5c41b812d1e875d09048799a1e224b0762541d691f147de"}, "2": {"node_id": "7fdc0685-c8a3-4249-b7b4-c5dba4df65ca", "node_type": null, "metadata": {"title": "", "category": "Sparrow Builders Guide", "url": "https://dev.blues.io/sparrow/sparrow-builders-guide/"}, "hash": "8a76e620dd9f706f08010a4a164495a0d8a83783bc0946440763e95f854eade8"}, "3": {"node_id": "bac2f20b-155e-4282-902d-7dece2ce4a3a", "node_type": null, "metadata": {"title": "", "category": "Sparrow Builders Guide", "url": "https://dev.blues.io/sparrow/sparrow-builders-guide/"}, "hash": "3f82f92c8720b1ac1174612184b3fb33d8107e1f3b6db698a0418b8671091bff"}}, "hash": "b762939e1b9a659cbb1c652685ee61fbd98feed25dcb59f9cf509a8c172efc8e", "text": "LD_LIBRARY_PATH=/opt/st/stm32cubeide_1.8.0/plugins/com.st.stm32cube.ide.mcu.externaltools.stlink-gdb-server.linux64_2.0.100.202109301221/tools/bin/native/linux_x64:${LD_LIBRARY_PATH}\n\nmacOS (set in your ~/.bashrc file or whatever terminal you prefer):\n\nCOPY\nexport PATH=\"/Applications/STM32CubeIDE.app/Contents/Eclipse/plugins/com.st.stm32cube.ide.mcu.externaltools.gnu-tools-for-stm32.9-2020-q2-update.macos64_2.0.0.202105311346/tools/bin:$PATH\"export PATH=\"/Applications/STM32CubeIDE.app/Contents/Eclipse/plugins/com.st.stm32cube.ide.mcu.externaltools.gnu-tools-for-stm32.9-2020-q2-update.macos64_2.0.0.202105311346/tools/bin:$PATH\"\nexport PATH=\"/Applications/STM32CubeIDE.app/Contents/Eclipse/plugins/com.st.stm32cube.ide.mcu.externaltools.cubeprogrammer.macos64_2.0.100.202110141430/tools/bin:$PATH\"\nexport PATH=\"/Applications/STM32CubeIDE.app/Contents/Eclipse/plugins/com.st.stm32cube.ide.mcu.externaltools.stlink-gdb-server.macos64_2.0.100.2109301221/tools/bin:$PATH\u201d\nexport", "start_char_idx": 2931, "end_char_idx": 3911, "text_template": "{metadata_str}\n\n{content}", "metadata_template": "{key}: {value}", "metadata_seperator": "\n"}, "__type__": "1"}, "bac2f20b-155e-4282-902d-7dece2ce4a3a": {"__data__": {"id_": "bac2f20b-155e-4282-902d-7dece2ce4a3a", "embedding": null, "metadata": {"title": "", "category": "Sparrow Builders Guide", "url": "https://dev.blues.io/sparrow/sparrow-builders-guide/"}, "excluded_embed_metadata_keys": [], "excluded_llm_metadata_keys": [], "relationships": {"1": {"node_id": "3e8b5d17-58a8-4745-bd51-e1e430459bae", "node_type": null, "metadata": {"title": "", "category": "Sparrow Builders Guide", "url": "https://dev.blues.io/sparrow/sparrow-builders-guide/"}, "hash": "2e832619ed71fc2fe5c41b812d1e875d09048799a1e224b0762541d691f147de"}, "2": {"node_id": "f0ed8e77-ff64-4aef-b1de-8536a7258f3c", "node_type": null, "metadata": {"title": "", "category": "Sparrow Builders Guide", "url": "https://dev.blues.io/sparrow/sparrow-builders-guide/"}, "hash": "b762939e1b9a659cbb1c652685ee61fbd98feed25dcb59f9cf509a8c172efc8e"}, "3": {"node_id": "38bbeaae-de80-4059-bb8b-a340bedfed78", "node_type": null, "metadata": {"title": "", "category": "Sparrow Builders Guide", "url": "https://dev.blues.io/sparrow/sparrow-builders-guide/"}, "hash": "f19b0f9f0b06f913ae6753812ddedd974408a333fc4ce65e541c5d04fb02d4fb"}}, "hash": "3f82f92c8720b1ac1174612184b3fb33d8107e1f3b6db698a0418b8671091bff", "text": "DYLD_LIBRARY_PATH=\"/Applications/STM32CubeIDE.app/Contents/Eclipse/plugins/com.st.stm32cube.ide.mcu.externaltools.stlink-gdb-server.macos64_2.0.100.202109301221/tools/bin/native/mac_x64:$DYLD_LIBRARY_PATH\u201d\nBuilding, Flashing, and Debugging Firmware\n\nNow that you have the prerequisites in place, let's next look at how you can build, flash, and debug the Sparrow Reference Firmware.\n\nNote\n\nMake sure to connect your Sparrow board to your computer via the STLINK-V3MINI using a USB cable before continuing.\n\nOption 1: Visual Studio Code (Recommended)\n\nThe easiest way to build, flash, and debug the Sparrow Reference Firmware is within Visual Studio Code.\n\nAs a first step, open the sparrow-reference-firmware repository you cloned within the Visual Studio Code editor.\n\nNote\n\nIf you're on Linux and using the firmware's Docker container, make sure to open the firmware project in its container.\n\nBe sure to attach your Sparrow device to your machine before you launch the development environment, so /dev/bus/usb can be captured by the container.\n\nYou can open the firmware project in its container by first clicking the small green box in the lower-left corner of the Visual Studio Code window.\n\nNext, select \u201cReopen in Container\u201d from the drop-down menu.\n\nBuilding\n\nHotkey: Ctrl + Shift + B (Cmd + Shift + B on macOS)\n\nIn the Visual Studio menu (top of screen), click Terminal > Run Build Task...\nFlashing\n\nIn the Visual Studio menu (top of screen), click Terminal > Run Task...\n\nNext, Sparrow: Flash Firmware Using STM32_Programmer_CLI.\n\nDebugging\n\nHotkey: Ctrl + Shift + D (Cmd + Shift", "start_char_idx": 3912, "end_char_idx": 5501, "text_template": "{metadata_str}\n\n{content}", "metadata_template": "{key}: {value}", "metadata_seperator": "\n"}, "__type__": "1"}, "38bbeaae-de80-4059-bb8b-a340bedfed78": {"__data__": {"id_": "38bbeaae-de80-4059-bb8b-a340bedfed78", "embedding": null, "metadata": {"title": "", "category": "Sparrow Builders Guide", "url": "https://dev.blues.io/sparrow/sparrow-builders-guide/"}, "excluded_embed_metadata_keys": [], "excluded_llm_metadata_keys": [], "relationships": {"1": {"node_id": "3e8b5d17-58a8-4745-bd51-e1e430459bae", "node_type": null, "metadata": {"title": "", "category": "Sparrow Builders Guide", "url": "https://dev.blues.io/sparrow/sparrow-builders-guide/"}, "hash": "2e832619ed71fc2fe5c41b812d1e875d09048799a1e224b0762541d691f147de"}, "2": {"node_id": "bac2f20b-155e-4282-902d-7dece2ce4a3a", "node_type": null, "metadata": {"title": "", "category": "Sparrow Builders Guide", "url": "https://dev.blues.io/sparrow/sparrow-builders-guide/"}, "hash": "3f82f92c8720b1ac1174612184b3fb33d8107e1f3b6db698a0418b8671091bff"}, "3": {"node_id": "6d3d43af-94c8-45ed-8288-717811c268af", "node_type": null, "metadata": {"title": "", "category": "Sparrow Builders Guide", "url": "https://dev.blues.io/sparrow/sparrow-builders-guide/"}, "hash": "77cdb779ce919b9469bbb0b3fb30d60a1a6baa0cd86386d61dca2c4d73913e23"}}, "hash": "f19b0f9f0b06f913ae6753812ddedd974408a333fc4ce65e541c5d04fb02d4fb", "text": "Ctrl + Shift + D (Cmd + Shift + D on macOS), or F5.\n\nWithin Visual Studio select the Run and Debug menu from the leftmost toolbar.\n\nPress the green \u201cPlay\u201d button next to Cortex Debug.\n\nOption 2: STM32CubeIDE\n\nYou can also build, flash, and debug Sparrow firmware within STM32CubeIDE. To start, you'll need to open the firmware in the IDE with the following steps.\n\nOpen the STM32CubeIDE application.\n\nNavigate to File > Open Projects from File System...\n\nPress the Directory... button.\n\nOpen the hidden folder, .STM32CubeIDE, from your newly cloned firmware repository. (On macOS you may need to type Cmd + Shift + . within the dialog to see hidden files and folders.)\n\nPress the Finish button.\n\nBuilding\n\nSelect the sparrow project in the Project Explorer on the left-side of the IDE.\n\nClick the hammer icon in the toolbar to build \u201cDebug\u201d for project sparrow.\n\nFlashing\n\nBefore you can install binaries you must first specify a Run Configuration by following the steps below.\n\nSelect Run > Run Configurations... from the menu.\n\nFrom the Run Configurations dialog select STM32 Cortex-M C/C++ Application > sparrow Debug.\n\nAll the default values should be correct, so next press the Run button.\n\nOnce you have specified a Run Configuration, you can then use perform subsequent runs directly from the toolbar. To do so complete the following steps.\n\nSelect the sparrow project in the Project Explorer on the left-side of the IDE.\n\nClick the green play icon in the toolbar to debug project sparrow.\n\nDebugging\n\nSelect the sparrow project in the Project Explorer on the left-side of the IDE.\n\nClick the bug icon in the toolbar to debug project sparrow.\n\nCollecting Firmware Logs\n\nIf you connect an STLINK-V3MINI", "start_char_idx": 5480, "end_char_idx": 7188, "text_template": "{metadata_str}\n\n{content}", "metadata_template": "{key}: {value}", "metadata_seperator": "\n"}, "__type__": "1"}, "6d3d43af-94c8-45ed-8288-717811c268af": {"__data__": {"id_": "6d3d43af-94c8-45ed-8288-717811c268af", "embedding": null, "metadata": {"title": "", "category": "Sparrow Builders Guide", "url": "https://dev.blues.io/sparrow/sparrow-builders-guide/"}, "excluded_embed_metadata_keys": [], "excluded_llm_metadata_keys": [], "relationships": {"1": {"node_id": "3e8b5d17-58a8-4745-bd51-e1e430459bae", "node_type": null, "metadata": {"title": "", "category": "Sparrow Builders Guide", "url": "https://dev.blues.io/sparrow/sparrow-builders-guide/"}, "hash": "2e832619ed71fc2fe5c41b812d1e875d09048799a1e224b0762541d691f147de"}, "2": {"node_id": "38bbeaae-de80-4059-bb8b-a340bedfed78", "node_type": null, "metadata": {"title": "", "category": "Sparrow Builders Guide", "url": "https://dev.blues.io/sparrow/sparrow-builders-guide/"}, "hash": "f19b0f9f0b06f913ae6753812ddedd974408a333fc4ce65e541c5d04fb02d4fb"}}, "hash": "77cdb779ce919b9469bbb0b3fb30d60a1a6baa0cd86386d61dca2c4d73913e23", "text": "Firmware Logs\n\nIf you connect an STLINK-V3MINI to your device, you can use a terminal emulator to view the debugging output on the serial port that appears on your computer.\n\nConnect your computer to your STLINK-V3MINI using a USB A-to-Micro, then connect the STLINK-V3MINI to your device using the Cortex debug connector.\n\nYou can use the following settings to configure your logging terminal.\n\nWriting Custom Firmware\n\nNow that you've set everything up, you're ready to start writing custom Sparrow firmware.\n\nFor details on next steps, including how to write custom Sparrow applications, check out the Reference Firmware's README on GitHub.\n\nAnd if you have any questions about what you can do next, feel free to reach out in our community forum.\n\nCan we improve this page? Send us feedback", "start_char_idx": 7164, "end_char_idx": 7957, "text_template": "{metadata_str}\n\n{content}", "metadata_template": "{key}: {value}", "metadata_seperator": "\n"}, "__type__": "1"}}, "docstore/ref_doc_info": {"3e8b5d17-58a8-4745-bd51-e1e430459bae": {"node_ids": ["02a5f56f-2e9a-4a40-bb6e-d891d5eb901c", "7fdc0685-c8a3-4249-b7b4-c5dba4df65ca", "f0ed8e77-ff64-4aef-b1de-8536a7258f3c", "bac2f20b-155e-4282-902d-7dece2ce4a3a", "38bbeaae-de80-4059-bb8b-a340bedfed78", "6d3d43af-94c8-45ed-8288-717811c268af"], "metadata": {"title": "", "category": "Sparrow Builders Guide", "url": "https://dev.blues.io/sparrow/sparrow-builders-guide/"}}}}